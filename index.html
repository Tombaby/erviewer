<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>json demo</title>
    <style type="text/css">
        html {height: 100%; width: 100%;}
        body {margin:0; padding:0; font-size: 10px; height: 100%; width: 100%;}
        p {margin:0; padding:0;}
        #content {
             /* border: 1px solid #7FC3E9; */
             border-radius: 3px 3px 3px 3px;
             position: relative;
        }
        #graph div.graph {
            background: none repeat scroll 0 0 #ffffff;
            border: 1px solid #3C63C7;
            /*border-radius: 10px 10px 10px 10px;*/
            box-shadow: 2px 1px 10px rgba(39, 57, 102, 0.44);
            color: #333333;
            display: inline-block;
            position: absolute;
        }
        #graph div.graph div.title {
            border-bottom: 1px solid #EEEEEE;
            overflow: auto;
            padding: 5px;
            background: #f0f6f7;
        }
        #graph div.graph div.content {
            padding: 5px;
            text-align: center;
        }
        #button {width: 200px; height: 200px; position: absolute; top:5px; right: 10px; display: block; font-size: 16px; font-weight: bold;}
    </style>
</head>
<body>
<div id="content">
    <div id="canvas"></div>
    <div id="graph"></div>
</div>

<script type="text/javascript" src="js/raphael.js"></script>
<!-- <script type="text/javascript" src="node_modules/jquery/dist/jquery.js"></script> -->
<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
<script>if (typeof module === 'object') {window.jQuery = window.$ = module.exports;};</script>
<script type="text/javascript" src="js/jquery-ui-1.12.1.js"></script>
<script type="text/javascript" src="node_modules/underscore/underscore-min.js"></script>
<script type="text/javascript" src="js/position.js"></script>
<script type="text/javascript" src="js/connection.js"></script>
<script type="text/javascript" src="js/graph.js"></script>

<script type="text/html" id="T-graph">
<div class="graph" data-index="<%=data.index%>" data-id="<%=data.id%>" style="left:<%=data.x%>px; top:<%=data.y%>px">
    <div class="title"><%=data.name%></div>
    <div class="content"><%=data.chineseName%></div>
</div>
</script>
<script>
    window.onresize = function(event) {
        // console.log(document.documentElement.scrollWidth);
        // console.log(document.documentElement.scrollHeight);
        var svg = document.getElementsByTagName("svg")[0];
        // console.log(svg.getAttribute('width'))
        // console.log(svg.getAttribute('height'))
        svg.setAttribute('width', window.innerWidth)
        svg.setAttribute('height', window.innerHeight)
        // console.log(svg.getAttribute('width'))
        // console.log(svg.getAttribute('height'))
    }

    window.onscroll = function(event) {
        var svg = document.getElementsByTagName("svg")[0]
        svg.setAttribute("width", document.body.scrollWidth)
        svg.setAttribute("height", document.body.scrollHeight)
        // console.log(window.innerWidth)
        // console.log(document.documentElement.scrollWidth)
        // console.log(document.body.scrollWidth)
        // console.log(window.pageXOffset)
        // console.log(document.documentElement.pageXOffset)
        
    }
    
    
    const DBModel = require("./js/erview.js")

    var erview = new DBModel({
        onLoaded: function(models) {
            console.log(models);
        }
    });


</script>
</body>
</html>
