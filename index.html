<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>json demo</title>
    <link rel="stylesheet" href="css/iconfont.css" />
    <style type="text/css">
        html {height: 100%; width: 100%;}
        body {margin:0; padding:0; font-size: 10px; height: 100%; width: 100%;}
        p {margin:0; padding:0;}
        
        #content {
             /* border: 1px solid #7FC3E9; */
             border-radius: 3px 3px 3px 3px;
             position: relative;
        }
        #banner {
            width: 100%; height: 35px; position: fixed; top: 0; background-color: lightgray; z-index: 9999; opacity: 0.85;
        } 
        #graph div.graph {
            background: none repeat scroll 0 0 #ffffff;
            border: 1px solid #3C63C7;
            /*border-radius: 10px 10px 10px 10px;*/
            box-shadow: 2px 1px 10px rgba(39, 57, 102, 0.44);
            color: #333333;
            display: inline-block;
            position: absolute;
        }
        #graph div.graph div.title {
            border-bottom: 1px solid #EEEEEE;
            overflow: auto;
            padding: 5px;
            background: #f0f6f7;
        }
        #graph div.graph div.content {
            padding: 5px;
            text-align: center;
        }
        #graph div.graph div.content td {
            text-align: left;
        }
        #button {width: 200px; height: 200px; position: absolute; top:5px; right: 10px; display: block; font-size: 16px; font-weight: bold;}

        #banner ul {list-style: none; line-height: 35px; margin:0;}
        #banner ul li {display: inline; padding: 5px;}
        .icon {border-style: solid; border-width: 1px; border-color: lightgrey; padding: 4px; border-radius: 4px;}
        .icon:hover {border-color: #666666; background: #999999; cursor: pointer;}

    </style>
</head>
<body>
<div id="content">
    <div id="banner">
        <ul>
            <li><a title="open model file"><i class="icon iconfont icon-refresh"></i></a></li>
            <li><a title="save model file"><i class="icon iconfont icon-download"></i></a></li>
            <li><a title="import from db"><i class="icon iconfont icon-down"></i></a></li>
            <li><a title="export to db"><i class="icon iconfont icon-up"></i></a></li>
      </ul>
    </div>
    <div id="canvas"></div>
    <div id="graph"></div>
</div>

<script type="text/javascript" src="js/raphael.js"></script>
<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
<script>if (typeof module === 'object') {window.jQuery = window.$ = module.exports;};</script>
<script type="text/javascript" src="js/jquery-ui-1.12.1.js"></script>
<script type="text/javascript" src="js/connection.js"></script>
<script type="text/javascript" src="js/graph.js"></script>

<script type="text/html" id="T-graph">
<div class="graph" data-index="<%=data.index%>" data-id="<%=data.id%>" style="left:<%=data.x%>px; top:<%=data.y%>px">
    <div class="title"><%=data.name%></div>
    <div class="content"><%=data.chineseName%></div>
</div>
</script>
<script>
    const DBModel = require("./js/erview.js")
    var erview = new DBModel({
        onLoaded: function(models) {
            Graph.drawModels(models, 'canvas', 'graph');
            // console.log(Graph);
        }
    }); 
</script>
</body>
</html>
